{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Replace app logo and optimize data update performance",
  "requirements": [
    {
      "id": "REQ-77",
      "summary": "Replace CSWA logo assets with user-provided logo across all branding surfaces",
      "acceptanceCriteria": [
        "The new logo replaces all existing CSWA logo files in frontend/public/assets/generated",
        "The logo appears correctly in the SignedOutScreen component",
        "The logo appears correctly in the AppLayout header",
        "The logo maintains appropriate dimensions and aspect ratio across all viewports"
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/cswa-logo-new.dim_800x200.png",
          "operation": "create",
          "description": "Create the new CSWA logo asset from the user-provided image (WhatsApp Image 2026-01-25 at 8.23.55 AM-1.jpeg), resized and optimized to 800x200 dimensions for use across the application"
        },
        {
          "path": "frontend/src/components/auth/SignedOutScreen.tsx",
          "operation": "modify",
          "description": "Update the logo image reference to use the new logo asset at frontend/public/assets/generated/cswa-logo-new.dim_800x200.png, ensuring proper aspect ratio and responsive sizing for the landing screen"
        },
        {
          "path": "frontend/src/components/layout/AppLayout.tsx",
          "operation": "modify",
          "description": "Update the header logo reference to use the new logo asset at frontend/public/assets/generated/cswa-logo-new.dim_800x200.png, maintaining appropriate header dimensions and responsive behavior"
        }
      ]
    },
    {
      "id": "REQ-78",
      "summary": "Optimize React Query mutation and cache invalidation to reduce update delays",
      "acceptanceCriteria": [
        "Task updates reflect in the UI within 500ms of clicking update",
        "Client updates reflect in the UI within 500ms of clicking update",
        "Assignee updates reflect in the UI within 500ms of clicking update",
        "Cache invalidation is scoped to affected queries only (no unnecessary global refetches)",
        "Optimistic updates are applied where data integrity allows"
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/tasks.ts",
          "operation": "modify",
          "description": "Add optimistic updates to useUpdateTask mutation to immediately reflect changes in the UI cache before backend confirmation. Use onMutate to optimistically update the task query cache, onError to roll back on failure, and onSettled to ensure final consistency"
        },
        {
          "path": "frontend/src/hooks/clients.ts",
          "operation": "modify",
          "description": "Add optimistic updates to useUpdateClient mutation to immediately reflect changes in the UI cache before backend confirmation. Use onMutate to optimistically update the client query cache, onError to roll back on failure, and onSettled to ensure final consistency"
        },
        {
          "path": "frontend/src/hooks/assignees.ts",
          "operation": "modify",
          "description": "Add optimistic updates to useUpdateAssignee mutation to immediately reflect changes in the UI cache before backend confirmation. Use onMutate to optimistically update the assignee query cache, onError to roll back on failure, and onSettled to ensure final consistency"
        }
      ]
    },
    {
      "id": "REQ-79",
      "summary": "Refine query key invalidation patterns to minimize unnecessary refetches",
      "acceptanceCriteria": [
        "All mutation hooks use specific query key invalidation patterns",
        "No mutation triggers invalidation of unrelated data queries",
        "Loading states are minimized during update operations",
        "Network request count is reduced compared to current implementation"
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/tasks.ts",
          "operation": "modify",
          "description": "Replace broad queryClient.invalidateQueries(['tasks']) with specific invalidation patterns: use ['tasks', taskId] for single-task updates, ['tasks'] only for list-affecting operations (create/delete), and avoid invalidating client or assignee queries unless the mutation changes those relationships"
        },
        {
          "path": "frontend/src/hooks/clients.ts",
          "operation": "modify",
          "description": "Replace broad queryClient.invalidateQueries(['clients']) with specific invalidation patterns: use ['clients', clientId] for single-client updates, ['clients'] only for list-affecting operations (create/delete), and avoid invalidating task queries on client name-only updates"
        },
        {
          "path": "frontend/src/hooks/assignees.ts",
          "operation": "modify",
          "description": "Replace broad queryClient.invalidateQueries(['assignees']) with specific invalidation patterns: use ['assignees', assigneeId] for single-assignee updates, ['assignees'] only for list-affecting operations (create/delete), and avoid invalidating task queries on assignee name-only updates"
        }
      ]
    },
    {
      "id": "REQ-80",
      "summary": "Add loading indicators and disable UI controls during mutation submission",
      "acceptanceCriteria": [
        "Submit buttons show loading state (spinner + 'Saving...' text) during mutations",
        "Form inputs are disabled during mutation submission",
        "Dialog cannot be closed while mutation is pending",
        "Success feedback is shown before dialog closes"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/tasks/TaskFormDialog.tsx",
          "operation": "modify",
          "description": "Add isPending state from the mutation hooks to the submit button (show spinner and 'Saving...' text), disable all form inputs during submission using the disabled attribute tied to isPending, prevent dialog close by disabling the close button and escape key handler while isPending is true, and optionally show a brief success toast before closing"
        },
        {
          "path": "frontend/src/components/clients/ClientFormDialog.tsx",
          "operation": "modify",
          "description": "Add isPending state from the mutation hooks to the submit button (show spinner and 'Saving...' text), disable all form inputs during submission using the disabled attribute tied to isPending, prevent dialog close by disabling the close button and escape key handler while isPending is true, and optionally show a brief success toast before closing"
        },
        {
          "path": "frontend/src/components/assignees/AssigneeFormDialog.tsx",
          "operation": "modify",
          "description": "Add isPending state from the mutation hooks to the submit button (show spinner and 'Saving...' text), disable all form inputs during submission using the disabled attribute tied to isPending, prevent dialog close by disabling the close button and escape key handler while isPending is true, and optionally show a brief success toast before closing"
        }
      ]
    }
  ]
}