{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 59,
  "summary": "Build a stylish Task/Client Management app for a tax consulting firm.",
  "architectural_notes": [
    "Dashboard should support interactive drill-down: clicking an aggregate metric navigates/filters to the corresponding Tasks list view (e.g., by category/status) and shows the matching items.",
    "Task.status should be constrained to the allowed set: Pending, Docs Pending, In Progress, Checking, Payment Pending, Completed, Hold; UI and dashboard aggregations should treat these as the canonical statuses.",
    "Single Add Task form should not depend on dropdown/select components for Client Name or Assigned Name; treat them as optional free-text fields.",
    "Tasks list view (Task view) should display the full set of task components/fields as columns (not a truncated subset), with sensible responsive behavior if needed (e.g., horizontal scroll/column hiding on small screens).",
    "Tasks list sorting controls should include sort by Client Name and by Assigned Name (assignee/team).",
    "TanStack Router may hang on a blank screen if routes use validateSearch while the root route performs async initialization (e.g., Internet Identity/user loading); ensure root-route initialization and search validation are wired to avoid pre-render hangs.",
    "Avoid reading/mutating URL (e.g., via getSecretParameter('caffeineAdminToken')/history.replaceState) during initial router bootstrap; ensure useActor/root init defers any URL cleanup until after the router has rendered.",
    "When opening the Task edit dialog, treat stored task.status === \"\" (empty string) the same as null/undefined and map it to a safe non-empty sentinel value so Radix Select never receives \"\" as its controlled value.",
    "Admin token (caffeineAdminToken) must not be read via getSecretParameter during startup; useActor should read it from sessionStorage only, while useDeferredUrlCleanup extracts it from URL and clears the URL after mount.",
    "Task result view should display assignee (team) information including both the team name and captain name for clarity and traceability."
  ],
  "known_issues": [
    "Single task addition (Add Task dialog) is not working while bulk task addition works; likely due to Add Task form crash related to dropdown/select rendering/default values.",
    "Production app shows a fully blank page (not loading) across routes (e.g., /tasks and /dashboard), consistent with a root route crash/hang before initial render (TanStack Router + async root init + validateSearch interaction suspected).",
    "Task edit flow is not working (user reports cannot edit tasks).",
    "App stuck on Loading screen/blank UI again due to root route initialization hang caused by getSecretParameter('caffeineAdminToken') running at startup and mutating the URL (history.replaceState), triggering TanStack Router freeze.",
    "Task edit dialog can crash / fail to open when a stored task has status set to an empty string (\"\"), triggering Radix Select error: \"A Select.Item must have a value prop that is not an empty string.\"",
    "After deploying Version 21, the app is still not loading on the user side (persistent blank/loading screen in production).",
    "Auto-population of Completion Date when marking a task as 'Completed' is either not working or showing an invalid date."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-an-authenticated-single-tenant-experience-using-internet-identity-so-a-signed-in-user-can-access-their-own-data-require-sign-in-before-viewing-or-editing-any-clients-tasks",
      "title": "Create an authenticated single-tenant experience using Internet Identity so a signed-in user can access their own data; require sign-in before viewing or editing any clients/tasks.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-responsive-frontend-ui-for-managing-clients-list-detail-with-creation-editing-forms-search-and-basic-filters",
      "title": "Build a responsive frontend UI for managing Clients (list + detail) with creation/editing forms, search, and basic filters.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-responsive-frontend-ui-for-managing-tasks-with-list-views-quick-actions-and-task-editing-including-task-assignment-to-a-client",
      "title": "Build a responsive frontend UI for managing Tasks with list views, quick actions, and task editing, including task assignment to a client.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-dashboard-overview-that-surfaces-key-operational-metrics-relevant-to-a-tax-consulting-workflow",
      "title": "Add a dashboard overview that surfaces key operational metrics relevant to a tax consulting workflow.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-frontend-backend-data-flow-using-react-query-for-all-client-task-reads-and-mutations-including-loading-empty-and-error-states",
      "title": "Implement frontend-backend data flow using React Query for all client/task reads and mutations, including loading, empty, and error states.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-stylish-visual-theme-appropriate-for-a-tax-consulting-firm-and-enforce-it-consistently-across-layout-typography-spacing-and-components-avoid-blue-purple-as-primary-brand-colors",
      "title": "Apply a coherent, stylish visual theme appropriate for a tax consulting firm and enforce it consistently across layout, typography, spacing, and components (avoid blue/purple as primary brand colors).",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-generated-static-brand-imagery-and-integrate-it-into-the-ui-no-backend-image-routing",
      "title": "Add generated static brand imagery and integrate it into the UI (no backend image routing).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-provided-cswa-group-of-companies-logo-as-static-assets-under-frontend-public-assets-generated-and-use-it-as-the-primary-app-logo",
      "title": "Add the provided CSWA Group of Companies logo as static assets under frontend/public/assets/generated and use it as the primary app logo.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-update-user-facing-branding-text-to-use-the-name-cswa-group-of-companies-anywhere-the-app-name-currently-appears-including-the-signed-out-landing-screen-the-in-app-header-and-the-browser-tab-title",
      "title": "Update user-facing branding text to use the name \"CSWA Group of Companies\" anywhere the app name currently appears (including the signed-out landing screen, the in-app header, and the browser tab title).",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-tasks-bulk-upload-flow-in-the-frontend-provide-a-downloadable-csv-template-that-includes-columns-for-all-supported-task-fields-and-allow-uploading-a-filled-csv-to-create-tasks-in-batch-show-a-preview-and-validation-errors-before-committing-the-upload",
      "title": "Add a Tasks bulk upload flow in the frontend: provide a downloadable CSV template that includes columns for all supported task fields, and allow uploading a filled CSV to create tasks in batch. Show a preview and validation errors before committing the upload.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tasks-ui-to-match-the-new-task-field-set-1-update-the-task-create-edit-form-to-include-required-fields-client-name-task-category-sub-category-and-optional-fields-status-comment-assigned-name-due-date-assignment-date-completion-date-bill-advance-received-outstanding-amount-payment-status-2-update-the-tasks-list-table-to-show-the-user-specified-task-components-as-columns-with-sensible-responsive-behavior-e-g-column-hiding-on-small-screens",
      "title": "Update the Tasks UI to match the new Task field set: (1) update the task create/edit form to include required fields Client Name, Task Category, Sub Category and optional fields Status, Comment, Assigned Name, Due Date, Assignment Date, Completion Date, Bill, Advance Received, Outstanding Amount, Payment Status; (2) update the Tasks list table to show the user-specified task components as columns (with sensible responsive behavior, e.g., column hiding on small screens).",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-bulk-selection-on-the-tasks-list-and-provide-bulk-actions-to-edit-or-delete-multiple-tasks-at-once-bulk-edit-must-allow-setting-one-or-more-optional-fields-across-selected-tasks-without-overwriting-fields-the-user-did-not-explicitly-set-in-the-bulk-edit-form",
      "title": "Implement bulk selection on the Tasks list and provide bulk actions to edit or delete multiple tasks at once. Bulk edit must allow setting one or more optional fields across selected tasks without overwriting fields the user did not explicitly set in the bulk edit form.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-parsing-encoding-and-react-query-hooks-to-align-with-the-new-task-model-and-the-new-bulk-apis-removing-any-legacy-encoding-that-stored-task-metadata-inside-the-description-field",
      "title": "Update frontend parsing/encoding and React Query hooks to align with the new Task model and the new bulk APIs, removing any legacy encoding that stored task metadata inside the description field.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-client-parsing-encoding-utilities-and-all-client-ui-surfaces-to-reflect-the-new-client-fields-client-name-required-gstin-optional-pan-optional-notes-optional-remove-reliance-on-email-phone-taxyears-status-derived-from-contactinfo-projects",
      "title": "Update the frontend client parsing/encoding utilities and all client UI surfaces to reflect the new Client fields: Client Name (required), GSTIN (optional), PAN (optional), Notes (optional). Remove reliance on email/phone/taxYears/status derived from contactInfo/projects.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-clients-bulk-selection-in-the-clients-list-including-row-checkboxes-select-all-checkbox-a-visible-x-clients-selected-bulk-action-bar-and-a-bulk-delete-flow-with-confirmation-dialog",
      "title": "Implement Clients bulk selection in the Clients list, including: row checkboxes, select-all checkbox, a visible 'X clients selected' bulk action bar, and a bulk delete flow with confirmation dialog.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-clients-bulk-upload-flow-csv-that-allows-downloading-a-template-uploading-a-filled-csv-previewing-parsed-rows-showing-validation-errors-and-committing-the-upload-to-create-clients-in-batch",
      "title": "Add a Clients bulk upload flow (CSV) that allows downloading a template, uploading a filled CSV, previewing parsed rows, showing validation errors, and committing the upload to create clients in batch.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-the-new-client-bulk-apis-bulk-create-and-bulk-delete-and-wire-them-into-the-clients-bulk-upload-and-bulk-selection-uis",
      "title": "Add React Query hooks for the new client bulk APIs (bulk create and bulk delete) and wire them into the Clients bulk upload and bulk selection UIs.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-to-read-mutate-assignees-single-list-crud-bulk-create-via-the-backend-actor-following-the-patterns-used-in-frontend-src-hooks-clients-ts-and-frontend-src-hooks-tasks-ts-query-keys-invalidation-on-mutation-success-actor-availability-guarding",
      "title": "Add React Query hooks to read/mutate Assignees (single + list + CRUD + bulk create) via the backend actor, following the patterns used in frontend/src/hooks/clients.ts and frontend/src/hooks/tasks.ts (query keys, invalidation on mutation success, actor availability guarding).",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-assignees-management-ui-that-allows-users-to-create-edit-and-delete-assignees-with-team-name-and-captain-fields-using-the-existing-ui-patterns-dialogs-forms-loading-empty-error-states-and-consistent-styling",
      "title": "Add an Assignees management UI that allows users to create, edit, and delete assignees with Team Name and Captain fields, using the existing UI patterns (dialogs/forms, loading/empty/error states) and consistent styling.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-bulk-addition-bulk-upload-for-assignees-in-the-frontend-including-a-downloadable-csv-template-csv-upload-preview-of-parsed-rows-validation-error-display-and-a-commit-step-that-calls-the-backend-bulkcreateassignees-api",
      "title": "Implement bulk addition (bulk upload) for Assignees in the frontend, including a downloadable CSV template, CSV upload, preview of parsed rows, validation error display, and a commit step that calls the backend bulkCreateAssignees API.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tasks-create-edit-ui-to-make-the-assigned-name-field-optionally-selectable-from-existing-assignees-teams-while-preserving-compatibility-with-the-current-stored-task-assignedname-text-field",
      "title": "Update the Tasks create/edit UI to make the 'Assigned Name' field optionally selectable from existing Assignees (teams), while preserving compatibility with the current stored Task.assignedName text field.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-dashboard-to-display-total-revenue-aggregated-by-task-category-using-each-task-s-numeric-bill-field-as-the-revenue-amount-treat-missing-null-bills-as-0-show-a-clear-list-table-of-categories-with-their-total-revenue-sorted-by-highest-revenue-first",
      "title": "Update the Dashboard to display total revenue aggregated by Task Category, using each task’s numeric \"Bill\" field as the revenue amount (treat missing/null bills as 0). Show a clear list/table of categories with their total revenue, sorted by highest revenue first.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-dashboard-to-display-a-status-wise-breakdown-of-tasks-count-per-status-include-a-total-count-and-per-status-counts-based-on-the-current-stored-task-status-values-including-the-existing-done-semantics",
      "title": "Update the Dashboard to display a status-wise breakdown of tasks (count per status). Include a total count and per-status counts based on the current stored task.status values (including the existing \"Done\" semantics).",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-add-click-through-behavior-on-dashboard-revenue-by-category-and-status-breakdown-items-so-that-clicking-an-item-navigates-to-the-tasks-page-and-lists-only-the-corresponding-tasks-i-e-drill-down-to-the-concerned-items",
      "title": "Add click-through behavior on Dashboard revenue-by-category and status breakdown items so that clicking an item navigates to the Tasks page and lists only the corresponding tasks (i.e., drill-down to the concerned items).",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-tasks-page-to-support-initializing-and-applying-filters-from-route-search-parameters-e-g-overdue-true-status-value-taskcategory-value-so-dashboard-drill-down-navigation-reliably-filters-the-list",
      "title": "Extend the Tasks page to support initializing and applying filters from route search parameters (e.g., overdue=true, status=<value>, taskCategory=<value>) so Dashboard drill-down navigation reliably filters the list.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-app-s-task-status-options-everywhere-in-the-ui-with-the-user-provided-status-set-pending-docs-pending-in-progress-checking-payment-pending-completed-hold-ensure-these-exact-strings-are-used-consistently-in-status-selectors-status-filters-and-any-status-display-labels",
      "title": "Replace the app’s Task status options everywhere in the UI with the user-provided status set: \"Pending\", \"Docs Pending\", \"In Progress\", \"Checking\", \"Payment Pending\", \"Completed\", \"Hold\". Ensure these exact strings are used consistently in status selectors, status filters, and any status display labels.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-app-s-open-task-logic-to-treat-completed-as-the-completed-done-state-while-remaining-backward-compatible-with-existing-stored-values-like-done-this-affects-tasks-page-filtering-and-overdue-logic-and-dashboard-status-aggregation",
      "title": "Update the app’s \"Open\" task logic to treat \"Completed\" as the completed/done state (while remaining backward-compatible with existing stored values like \"Done\"). This affects Tasks page filtering and overdue logic, and dashboard status aggregation.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-task-create-edit-ui-so-the-client-name-can-be-selected-from-the-existing-clients-list-in-addition-to-allowing-manual-entry-and-ensure-the-ui-clearly-supports-selecting-client-status-and-assignee-from-lists",
      "title": "Update the Task create/edit UI so the Client Name can be selected from the existing Clients list (in addition to allowing manual entry), and ensure the UI clearly supports selecting Client, Status, and Assignee from lists.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-validate-the-task-status-values-during-csv-bulk-upload-parsing-against-the-allowed-status-set-pending-docs-pending-in-progress-checking-payment-pending-completed-hold-and-surface-a-clear-validation-error-when-an-unrecognized-status-is-provided",
      "title": "Validate the Task Status values during CSV bulk upload parsing against the allowed status set (Pending, Docs Pending, In Progress, Checking, Payment Pending, Completed, Hold) and surface a clear validation error when an unrecognized status is provided.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tasks-bulk-upload-csv-template-to-include-columns-for-all-task-components-fields-supported-by-the-current-task-model-client-name-task-category-sub-category-status-comment-assigned-name-due-date-assignment-date-completion-date-bill-advance-received-outstanding-amount-payment-status-ensure-the-downloaded-template-filename-remains-a-csv-and-includes-at-least-one-example-row-that-demonstrates-the-correct-date-and-numeric-formats",
      "title": "Update the Tasks bulk upload CSV template to include columns for all task components/fields supported by the current Task model: Client Name, Task Category, Sub Category, Status, Comment, Assigned Name, Due Date, Assignment Date, Completion Date, Bill, Advance Received, Outstanding Amount, Payment Status. Ensure the downloaded template filename remains a .csv and includes at least one example row that demonstrates the correct date and numeric formats.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-tasks-csv-bulk-upload-parser-to-read-and-validate-all-supported-task-columns-including-optional-fields-producing-taskinput-objects-that-include-any-provided-optional-values-and-leaving-omitted-blank-optional-fields-unset-null-validation-must-include-required-fields-present-client-name-task-category-sub-category-task-status-values-validated-against-the-allowed-status-set-date-fields-validated-and-converted-to-timestamps-in-the-format-expected-by-the-backend-and-numeric-fields-validated-as-numbers-surface-clear-row-column-specific-validation-errors-for-any-invalid-optional-values",
      "title": "Extend the Tasks CSV bulk upload parser to read and validate all supported task columns (including optional fields), producing TaskInput objects that include any provided optional values (and leaving omitted/blank optional fields unset/null). Validation must include: required fields present (Client Name, Task Category, Sub Category), Task Status values validated against the allowed status set, date fields validated and converted to timestamps in the format expected by the backend, and numeric fields validated as numbers. Surface clear row/column-specific validation errors for any invalid optional values.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tasks-bulk-upload-preview-table-in-the-bulk-upload-dialog-to-display-the-uploaded-csv-s-parsed-values-for-all-supported-task-components-at-least-for-the-first-10-preview-rows-with-sensible-responsive-behavior-e-g-horizontal-scroll-or-hiding-least-important-columns-on-small-screens",
      "title": "Update the Tasks bulk upload preview table in the bulk upload dialog to display the uploaded CSV’s parsed values for all supported task components (at least for the first 10 preview rows), with sensible responsive behavior (e.g., horizontal scroll or hiding least-important columns on small screens).",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-single-task-create-edit-dialog-to-remove-the-client-and-assignee-dropdown-select-controls-and-use-free-text-inputs-only-for-client-name-and-assigned-name",
      "title": "Update the single Task create/edit dialog to remove the Client and Assignee dropdown (Select) controls, and use free-text inputs only for Client Name and Assigned Name.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-make-all-fields-optional-in-the-single-task-create-flow-ui-including-client-name-task-category-and-sub-category-by-removing-required-markers-and-html-required-validation-while-keeping-the-existing-backend-api-calls-functional",
      "title": "Make all fields optional in the single Task create flow UI (including Client Name, Task Category, and Sub Category) by removing required markers and HTML required validation, while keeping the existing backend API calls functional.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-single-add-task-dialog-crash-caused-by-radix-select-empty-string-values-by-ensuring-no-selectitem-uses-an-empty-string-value-and-by-ensuring-select-components-never-receive-as-a-controlled-value",
      "title": "Fix the single Add Task dialog crash caused by Radix Select empty-string values by ensuring no SelectItem uses an empty string value, and by ensuring Select components never receive \"\" as a controlled value.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tasks-bulk-upload-csv-template-generator-to-remove-all-date-related-columns-due-date-assignment-date-completion-date-from-the-downloaded-template-including-removing-any-date-values-from-the-example-row-so-the-number-of-example-values-matches-the-header-count",
      "title": "Update the Tasks bulk upload CSV template generator to remove all date-related columns (Due Date, Assignment Date, Completion Date) from the downloaded template, including removing any date values from the example row so the number of example values matches the header count.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-add-user-controllable-sorting-options-to-the-tasks-list-view-so-users-can-choose-a-sort-field-and-sort-direction-and-the-task-table-updates-accordingly",
      "title": "Add user-controllable sorting options to the Tasks list view so users can choose a sort field and sort direction, and the task table updates accordingly.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-export-to-excel-option-on-the-tasks-page-that-downloads-the-currently-visible-tasks-after-applying-current-filters-and-sorting-as-a-xlsx-file",
      "title": "Add an \"Export to Excel\" option on the Tasks page that downloads the currently visible tasks (after applying current filters and sorting) as a .xlsx file.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tasks-bulk-upload-csv-template-generator-so-the-downloaded-template-columns-match-the-task-add-edit-components-including-date-and-amount-fields-client-name-task-category-sub-category-status-comment-assigned-name-due-date-assignment-date-completion-date-bill-advance-received-outstanding-amount-payment-status",
      "title": "Update the Tasks bulk upload CSV template generator so the downloaded template columns match the Task add/edit components (including date and amount fields): Client Name, Task Category, Sub Category, Status, Comment, Assigned Name, Due Date, Assignment Date, Completion Date, Bill, Advance Received, Outstanding Amount, Payment Status.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-tasks-csv-parsing-so-fields-containing-commas-notably-the-comment-column-do-not-break-column-alignment-by-implementing-a-quote-aware-csv-row-parser-similar-to-the-existing-parsecsvline-logic-used-in-frontend-src-utils-clientcsv-ts-and-frontend-src-utils-assigneecsv-ts-and-using-it-for-both-header-and-data-row-parsing-in-frontend-src-utils-taskcsv-ts",
      "title": "Fix Tasks CSV parsing so fields containing commas (notably the Comment column) do not break column alignment by implementing a quote-aware CSV row parser (similar to the existing parseCsvLine logic used in frontend/src/utils/clientCsv.ts and frontend/src/utils/assigneeCsv.ts) and using it for both header and data row parsing in frontend/src/utils/taskCsv.ts.",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-update-bulk-task-creation-to-persist-all-task-component-fields-provided-by-the-csv-status-comment-assigned-name-due-date-assignment-date-completion-date-bill-advance-received-outstanding-amount-payment-status-by-extending-the-backend-taskinput-type-and-bulkcreatetasks-api-accordingly-and-wiring-the-frontend-bulk-upload-submit-path-to-send-these-optional-fields-when-present",
      "title": "Update bulk task creation to persist all task component fields provided by the CSV (Status, Comment, Assigned Name, Due Date, Assignment Date, Completion Date, Bill, Advance Received, Outstanding Amount, Payment Status) by extending the backend TaskInput type and bulkCreateTasks API accordingly, and wiring the frontend bulk upload submit path to send these optional fields when present.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tasks-page-table-frontend-src-pages-taskspage-tsx-to-show-all-task-component-fields-as-visible-columns-in-the-main-tasks-list-view-rather-than-only-a-subset",
      "title": "Update the Tasks page table (frontend/src/pages/TasksPage.tsx) to show all Task component fields as visible columns in the main Tasks list view, rather than only a subset.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-task-list-shown-on-the-client-detail-page-frontend-src-pages-clientdetailpage-tsx-so-each-task-item-surfaces-the-full-set-of-task-components-all-supported-fields-in-a-readable-way",
      "title": "Update the task list shown on the Client Detail page (frontend/src/pages/ClientDetailPage.tsx) so each task item surfaces the full set of task components (all supported fields) in a readable way.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-tasks-page-sorting-controls-and-sorting-logic-to-support-assignee-wise-sorting-i-e-sort-by-task-assignedname-in-addition-to-the-existing-sort-fields-including-the-already-supported-client-wise-sorting",
      "title": "Extend the Tasks page sorting controls and sorting logic to support assignee-wise sorting (i.e., sort by Task.assignedName) in addition to the existing sort fields (including the already-supported client-wise sorting).",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-app-s-blank-screen-on-initial-load-across-all-routes-by-preventing-url-mutation-during-initial-router-app-bootstrap-currently-caused-by-reading-the-admin-token-via-getsecretparameter-caffeineadmintoken-which-clears-modifies-window-location-via-history-replacestate-ensure-the-router-can-render-the-root-route-reliably-before-any-url-cleanup-occurs",
      "title": "Fix the app’s blank-screen on initial load across all routes by preventing URL mutation during initial router/app bootstrap (currently caused by reading the admin token via getSecretParameter('caffeineAdminToken') which clears/modifies window.location via history.replaceState). Ensure the router can render the root route reliably before any URL cleanup occurs.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-make-root-initialization-resilient-by-ensuring-user-profile-fetching-cannot-crash-the-root-route-during-unauthenticated-or-pre-actor-states-specifically-ensure-the-current-user-profile-query-is-never-invoked-or-never-throws-in-a-way-that-can-crash-initial-rendering-when-the-actor-identity-is-not-ready",
      "title": "Make root initialization resilient by ensuring user profile fetching cannot crash the root route during unauthenticated or pre-actor states. Specifically, ensure the current-user-profile query is never invoked (or never throws) in a way that can crash initial rendering when the actor/identity is not ready.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-tanstack-router-search-param-validation-so-it-cannot-contribute-to-startup-hangs-crashes-ensure-validatesearch-on-the-tasks-route-is-fully-defensive-does-not-throw-for-unexpected-types-values-and-returns-safe-defaults-when-search-params-are-missing-or-malformed",
      "title": "Harden TanStack Router search-param validation so it cannot contribute to startup hangs/crashes. Ensure validateSearch on the /tasks route is fully defensive (does not throw for unexpected types/values) and returns safe defaults when search params are missing or malformed.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-visible-fallback-for-unexpected-initialization-errors-at-the-top-level-so-the-ui-never-remains-fully-blank-the-fallback-should-display-a-clear-english-error-message-and-a-reload-action-without-exposing-sensitive-details",
      "title": "Add a user-visible fallback for unexpected initialization errors at the top level so the UI never remains fully blank. The fallback should display a clear English error message and a reload action, without exposing sensitive details.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-single-task-edit-flow-so-that-clicking-edit-on-a-task-reliably-opens-the-edit-dialog-pre-fills-the-form-with-the-selected-task-s-current-values-and-successfully-saves-updates-via-the-existing-updatetask-api-including-optional-fields-like-status-comment-assignedname-dates-and-amounts",
      "title": "Fix the single-task edit flow so that clicking Edit on a task reliably opens the edit dialog, pre-fills the form with the selected task’s current values, and successfully saves updates via the existing updateTask API (including optional fields like status, comment, assignedName, dates, and amounts).",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-task-sorting-supports-both-client-wise-and-assignee-wise-sorting-in-the-tasks-page-ui-and-that-selecting-these-sort-options-actually-reorders-the-visible-task-table-accordingly",
      "title": "Ensure task sorting supports both client-wise and assignee-wise sorting in the Tasks page UI and that selecting these sort options actually reorders the visible task table accordingly.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-stop-mutating-the-browser-url-during-initial-app-router-bootstrap-so-the-app-cannot-freeze-on-the-loading-screen-specifically-ensure-the-admin-token-handling-caffeineadmintoken-never-calls-history-replacestate-or-otherwise-changes-window-location-during-the-initial-render-route-creation-path",
      "title": "Stop mutating the browser URL during initial app/router bootstrap so the app cannot freeze on the Loading screen. Specifically, ensure the admin-token handling (caffeineAdminToken) never calls history.replaceState (or otherwise changes window.location) during the initial render/route creation path.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-refactor-frontend-src-hooks-useactor-ts-so-actor-creation-does-not-read-secrets-in-a-way-that-triggers-url-cleanup-during-startup-remove-the-direct-call-to-getsecretparameter-caffeineadmintoken-from-the-react-query-actor-queryfn-and-instead-obtain-the-token-from-a-non-mutating-source-e-g-sessionstorage-during-actor-initialization",
      "title": "Refactor frontend/src/hooks/useActor.ts so actor creation does not read secrets in a way that triggers URL cleanup during startup. Remove the direct call to getSecretParameter('caffeineAdminToken') from the React Query actor queryFn, and instead obtain the token from a non-mutating source (e.g., sessionStorage) during actor initialization.",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-deferred-admin-token-capture-url-cleanup-after-first-paint-by-using-the-existing-placeholder-hook-file-frontend-src-hooks-usedeferredurlcleanup-ts-the-deferred-flow-must-a-safely-extract-caffeineadmintoken-from-the-url-without-mutating-history-during-bootstrap-b-persist-it-to-sessionstorage-for-later-reads-by-useactor-and-c-then-clear-it-from-the-url-only-after-the-app-has-mounted-in-an-effect",
      "title": "Implement deferred admin-token capture + URL cleanup after first paint by using the existing placeholder hook file frontend/src/hooks/useDeferredUrlCleanup.ts. The deferred flow must (a) safely extract caffeineAdminToken from the URL without mutating history during bootstrap, (b) persist it to sessionStorage for later reads by useActor, and (c) then clear it from the URL only after the app has mounted (in an effect).",
      "reqIds": [
        "REQ-61"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-utils-urlparams-ts-to-support-a-non-mutating-read-of-secrets-from-the-hash-i-e-a-function-that-can-read-caffeineadmintoken-without-calling-clearparamfromhash-history-replacestate-keep-all-user-facing-text-in-english-and-ensure-url-parsing-remains-defensive-for-both-hash-based-and-query-string-usage",
      "title": "Update frontend/src/utils/urlParams.ts to support a non-mutating read of secrets from the hash (i.e., a function that can read caffeineAdminToken without calling clearParamFromHash / history.replaceState). Keep all user-facing text in English and ensure URL parsing remains defensive for both hash-based and query-string usage.",
      "reqIds": [
        "REQ-62"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-radix-select-crashes-in-the-task-create-edit-dialog-when-a-task-s-stored-status-is-an-empty-string-or-otherwise-missing-invalid-by-ensuring-the-status-select-is-never-controlled-with-and-always-maps-empty-whitespace-unknown-status-values-to-a-safe-non-empty-sentinel-option",
      "title": "Prevent Radix Select crashes in the Task create/edit dialog when a task’s stored status is an empty string (\"\") or otherwise missing/invalid by ensuring the Status <Select> is never controlled with \"\" and always maps empty/whitespace/unknown status values to a safe non-empty sentinel option.",
      "reqIds": [
        "REQ-63"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-deferred-token-capture-url-cleanup-is-the-only-place-that-reads-caffeineadmintoken-from-the-url-and-that-it-runs-only-after-mount-keep-usedeferredurlcleanup-mounted-from-the-root-app-tsx-rootcomponent-and-adjust-frontend-src-utils-urlparams-ts-non-mutating-secret-read-helper-to-be-defensive-for-both-hash-styles-caffeineadmintoken-and-route-caffeineadmintoken",
      "title": "Ensure deferred token capture + URL cleanup is the only place that reads caffeineAdminToken from the URL and that it runs only after mount. Keep useDeferredUrlCleanup mounted from the root (App.tsx RootComponent) and adjust frontend/src/utils/urlParams.ts non-mutating secret read helper to be defensive for both hash styles: '#caffeineAdminToken=...' and '#/route?caffeineAdminToken=...'.",
      "reqIds": [
        "REQ-66"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-dashboard-to-include-three-new-breakdown-sections-based-on-task-sub-category-a-a-revenue-by-sub-category-table-that-sums-each-task-s-bill-amount-treat-missing-null-bill-as-0-grouped-by-sub-category-sorted-by-highest-revenue-first-b-a-tasks-by-sub-category-table-that-shows-task-counts-grouped-by-sub-category-sorted-by-highest-count-first-and-c-a-combined-category-sub-category-grouped-table-that-groups-by-task-category-sub-category-pair-and-shows-at-least-task-count-and-total-revenue-for-each-pair-sorted-by-highest-revenue-first",
      "title": "Extend the Dashboard to include three new breakdown sections based on Task Sub Category: (A) a \"Revenue by Sub Category\" table that sums each task’s Bill amount (treat missing/null Bill as 0) grouped by Sub Category, sorted by highest revenue first; (B) a \"Tasks by Sub Category\" table that shows task counts grouped by Sub Category, sorted by highest count first; and (C) a combined \"Category + Sub Category\" grouped table that groups by (Task Category, Sub Category) pair and shows at least task count and total revenue for each pair, sorted by highest revenue first.",
      "reqIds": [
        "REQ-67"
      ],
      "version": 1
    },
    {
      "id": "feature-add-drill-down-navigation-from-the-new-dashboard-sub-category-tables-into-the-tasks-page-by-applying-appropriate-route-search-parameters-and-extend-tasks-route-search-param-validation-and-tasks-page-filtering-to-support-sub-category-filtering-specifically-clicking-a-sub-category-row-navigates-to-tasks-with-a-subcategory-search-param-clicking-a-combined-category-sub-category-row-navigates-to-tasks-with-both-taskcategory-and-subcategory-search-params-applied",
      "title": "Add drill-down navigation from the new Dashboard Sub Category tables into the Tasks page by applying appropriate route search parameters, and extend Tasks route search-param validation and Tasks page filtering to support sub-category filtering. Specifically: clicking a Sub Category row navigates to /tasks with a subCategory search param; clicking a combined Category + Sub Category row navigates to /tasks with both taskCategory and subCategory search params applied.",
      "reqIds": [
        "REQ-68"
      ],
      "version": 1
    },
    {
      "id": "feature-add-inline-editing-of-a-task-s-comment-directly-in-the-tasks-list-table-comment-column-so-users-can-update-the-comment-without-opening-the-task-edit-dialog-the-inline-edit-must-save-via-existing-task-update-apis-and-show-clear-loading-error-feedback-in-english",
      "title": "Add inline editing of a task’s Comment directly in the Tasks list table (Comment column) so users can update the comment without opening the Task edit dialog. The inline edit must save via existing task update APIs and show clear loading/error feedback in English.",
      "reqIds": [
        "REQ-69"
      ],
      "version": 1
    },
    {
      "id": "feature-update-actor-initialization-to-read-caffeineadmintoken-only-from-sessionstorage-and-call-initializeaccesscontrolwithsecret-only-when-a-non-empty-token-exists",
      "title": "Update actor initialization to read caffeineAdminToken only from sessionStorage and call `_initializeAccessControlWithSecret` only when a non-empty token exists.",
      "reqIds": [
        "REQ-71"
      ],
      "version": 1
    },
    {
      "id": "feature-make-readsecretfromhashnonmutating-caffeineadmintoken-robust-for-both-hash-styles-1-caffeineadmintoken-and-2-route-caffeineadmintoken-without-mutating-the-url",
      "title": "Make `readSecretFromHashNonMutating('caffeineAdminToken')` robust for both hash styles: (1) `#caffeineAdminToken=...` and (2) `#/route?caffeineAdminToken=...`, without mutating the URL.",
      "reqIds": [
        "REQ-72"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-deferred-token-capture-url-cleanup-usedeferredurlcleanup-is-the-only-code-path-that-reads-caffeineadmintoken-from-the-url-and-that-the-cleanup-runs-only-after-mount",
      "title": "Ensure deferred token capture + URL cleanup (useDeferredUrlCleanup) is the only code path that reads caffeineAdminToken from the URL and that the cleanup runs only after mount.",
      "reqIds": [
        "REQ-73"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-deferred-token-capture-url-cleanup-remains-the-only-code-path-that-reads-caffeineadmintoken-from-the-url-and-it-runs-only-after-mount-via-usedeferredurlcleanup-keep-all-user-facing-text-in-english",
      "title": "Ensure deferred token capture + URL cleanup remains the only code path that reads `caffeineAdminToken` from the URL, and it runs only after mount via `useDeferredUrlCleanup` (keep all user-facing text in English).",
      "reqIds": [
        "REQ-76"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-existing-cswa-group-of-companies-logo-assets-in-frontend-public-assets-generated-with-the-user-provided-logo-image-whatsapp-image-2026-01-25-at-8-23-55-am-1-jpeg-and-ensure-it-is-used-consistently-across-all-branding-surfaces-including-the-signed-out-landing-screen-the-in-app-header-and-anywhere-the-current-logo-appears",
      "title": "Replace the existing CSWA Group of Companies logo assets in frontend/public/assets/generated with the user-provided logo image (WhatsApp Image 2026-01-25 at 8.23.55 AM-1.jpeg) and ensure it is used consistently across all branding surfaces including the signed-out landing screen, the in-app header, and anywhere the current logo appears.",
      "reqIds": [
        "REQ-77"
      ],
      "version": 1
    },
    {
      "id": "feature-optimize-react-query-mutation-and-cache-invalidation-patterns-to-reduce-perceived-delay-when-updating-tasks-clients-or-assignees-ensure-mutations-provide-immediate-optimistic-updates-where-safe-and-that-success-callbacks-trigger-precise-cache-invalidation-without-unnecessary-full-page-refetches",
      "title": "Optimize React Query mutation and cache invalidation patterns to reduce perceived delay when updating tasks, clients, or assignees. Ensure mutations provide immediate optimistic updates where safe, and that success callbacks trigger precise cache invalidation without unnecessary full-page refetches.",
      "reqIds": [
        "REQ-78"
      ],
      "version": 1
    },
    {
      "id": "feature-review-and-optimize-all-react-query-mutation-hooks-in-frontend-src-hooks-tasks-ts-frontend-src-hooks-clients-ts-and-frontend-src-hooks-assignees-ts-to-ensure-onsuccess-callbacks-use-targeted-queryclient-invalidatequeries-with-specific-query-keys-rather-than-broad-wildcards-reducing-unnecessary-network-requests-and-ui-re-renders",
      "title": "Review and optimize all React Query mutation hooks in frontend/src/hooks/tasks.ts, frontend/src/hooks/clients.ts, and frontend/src/hooks/assignees.ts to ensure onSuccess callbacks use targeted queryClient.invalidateQueries with specific query keys rather than broad wildcards, reducing unnecessary network requests and UI re-renders.",
      "reqIds": [
        "REQ-79"
      ],
      "version": 1
    },
    {
      "id": "feature-add-loading-indicators-and-disable-ui-controls-during-mutation-submission-in-taskformdialog-clientformdialog-and-assigneeformdialog-to-provide-clear-visual-feedback-that-an-update-is-in-progress-preventing-users-from-perceiving-the-system-as-unresponsive",
      "title": "Add loading indicators and disable UI controls during mutation submission in TaskFormDialog, ClientFormDialog, and AssigneeFormDialog to provide clear visual feedback that an update is in progress, preventing users from perceiving the system as unresponsive.",
      "reqIds": [
        "REQ-80"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-todo-list-management-feature-to-the-application-with-full-crud-operations-create-read-update-delete-todos-scoped-per-authenticated-user-following-the-same-access-control-patterns-used-for-clients-tasks-and-assignees",
      "title": "Add a Todo List management feature to the application with full CRUD operations (create, read, update, delete todos) scoped per authenticated user, following the same access control patterns used for Clients, Tasks, and Assignees.",
      "reqIds": [
        "REQ-81"
      ],
      "version": 1
    },
    {
      "id": "feature-add-bulk-operations-support-for-todos-including-bulk-upload-csv-template-download-and-upload-with-validation-and-bulk-selection-with-bulk-delete-following-the-existing-patterns-used-for-tasks-clients-and-assignees",
      "title": "Add bulk operations support for Todos including bulk upload (CSV template download and upload with validation) and bulk selection with bulk delete, following the existing patterns used for Tasks, Clients, and Assignees.",
      "reqIds": [
        "REQ-82"
      ],
      "version": 1
    },
    {
      "id": "feature-display-the-captain-name-in-all-task-result-views-immediately-after-the-assignee-name-team-name-showing-both-the-team-name-and-captain-in-a-clear-readable-format",
      "title": "Display the captain name in all task result views immediately after the assignee name (team name), showing both the team name and captain in a clear, readable format.",
      "reqIds": [
        "REQ-83"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-taskbulkeditdialog-component-frontend-src-components-tasks-taskbulkeditdialog-tsx-to-include-form-fields-for-all-editable-task-components-client-name-task-category-sub-category-status-comment-assigned-name-due-date-assignment-date-completion-date-bill-advance-received-outstanding-amount-and-payment-status-each-field-must-remain-optional-with-an-unchanged-sentinel-value-so-users-can-selectively-update-only-the-fields-they-specify",
      "title": "Update the TaskBulkEditDialog component (frontend/src/components/tasks/TaskBulkEditDialog.tsx) to include form fields for all editable Task components: Client Name, Task Category, Sub Category, Status, Comment, Assigned Name, Due Date, Assignment Date, Completion Date, Bill, Advance Received, Outstanding Amount, and Payment Status. Each field must remain optional with an 'Unchanged' sentinel value so users can selectively update only the fields they specify.",
      "reqIds": [
        "REQ-88"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-usebulkupdatetasks-mutation-hook-in-frontend-src-hooks-tasks-ts-to-send-all-user-specified-field-updates-from-the-bulk-edit-form-to-the-backend-bulk-update-api-properly-encoding-dates-as-timestamps-and-numbers-as-numeric-types-ensure-the-mutation-triggers-appropriate-cache-invalidation-and-provides-clear-loading-success-error-feedback",
      "title": "Update the useBulkUpdateTasks mutation hook in frontend/src/hooks/tasks.ts to send all user-specified field updates from the bulk edit form to the backend bulk update API, properly encoding dates as timestamps and numbers as numeric types. Ensure the mutation triggers appropriate cache invalidation and provides clear loading/success/error feedback.",
      "reqIds": [
        "REQ-90"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-expanded-taskbulkeditdialog-form-submission-to-call-the-updated-usebulkupdatetasks-mutation-with-all-user-provided-field-values-ensuring-the-bulk-edit-flow-remains-consistent-with-existing-ui-patterns-dialog-closure-on-success-error-display-bulk-selection-state-clearing-after-successful-update",
      "title": "Wire the expanded TaskBulkEditDialog form submission to call the updated useBulkUpdateTasks mutation with all user-provided field values, ensuring the bulk edit flow remains consistent with existing UI patterns (dialog closure on success, error display, bulk selection state clearing after successful update).",
      "reqIds": [
        "REQ-91"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-optimistic-updates-in-the-usebulkupdatetasks-mutation-hook-frontend-src-hooks-tasks-ts-so-the-ui-reflects-changes-immediately-before-the-server-responds-reducing-perceived-lag-during-bulk-task-edits",
      "title": "Implement optimistic updates in the useBulkUpdateTasks mutation hook (frontend/src/hooks/tasks.ts) so the UI reflects changes immediately before the server responds, reducing perceived lag during bulk task edits.",
      "reqIds": [
        "REQ-92"
      ],
      "version": 1
    },
    {
      "id": "feature-add-immediate-visual-feedback-in-taskbulkeditdialog-frontend-src-components-tasks-taskbulkeditdialog-tsx-by-disabling-form-controls-and-showing-a-spinner-on-the-submit-button-during-mutation-submission-preventing-multiple-clicks-and-clarifying-that-the-update-is-processing",
      "title": "Add immediate visual feedback in TaskBulkEditDialog (frontend/src/components/tasks/TaskBulkEditDialog.tsx) by disabling form controls and showing a spinner on the submit button during mutation submission, preventing multiple clicks and clarifying that the update is processing.",
      "reqIds": [
        "REQ-93"
      ],
      "version": 1
    },
    {
      "id": "feature-optimize-the-usebulkupdatetasks-mutation-s-cache-invalidation-strategy-to-use-precise-query-keys-targeting-only-the-affected-task-queries-avoiding-full-task-list-refetches-and-reducing-network-overhead-after-bulk-updates",
      "title": "Optimize the useBulkUpdateTasks mutation's cache invalidation strategy to use precise query keys targeting only the affected task queries, avoiding full task list refetches and reducing network overhead after bulk updates.",
      "reqIds": [
        "REQ-94"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-subtle-success-toast-notification-when-bulk-updates-complete-successfully-providing-clear-confirmation-without-requiring-users-to-verify-changes-manually-in-the-task-list",
      "title": "Add a subtle success toast notification when bulk updates complete successfully, providing clear confirmation without requiring users to verify changes manually in the task list.",
      "reqIds": [
        "REQ-96"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-the-frontend-task-update-mutations-in-frontend-src-hooks-tasks-ts-useupdatetask-usebulkupdatetasks-and-all-task-update-ui-components-taskformdialog-taskquickstatus-taskbulkeditdialog-are-sending-complete-task-payloads-to-the-backend-including-the-current-status-value-so-the-backend-can-correctly-detect-status-transitions-to-completed",
      "title": "Verify that the frontend task update mutations in frontend/src/hooks/tasks.ts (useUpdateTask, useBulkUpdateTasks) and all task update UI components (TaskFormDialog, TaskQuickStatus, TaskBulkEditDialog) are sending complete task payloads to the backend, including the current status value, so the backend can correctly detect status transitions to 'Completed'.",
      "reqIds": [
        "REQ-98"
      ],
      "version": 1
    },
    {
      "id": "feature-add-defensive-date-validation-in-the-frontend-task-display-utilities-frontend-src-utils-taskdisplay-ts-to-ensure-completiondate-timestamps-are-properly-converted-to-readable-date-strings-handling-edge-cases-like-null-values-invalid-timestamps-or-timestamps-outside-valid-date-ranges",
      "title": "Add defensive date validation in the frontend task display utilities (frontend/src/utils/taskDisplay.ts) to ensure completionDate timestamps are properly converted to readable date strings, handling edge cases like null values, invalid timestamps, or timestamps outside valid Date ranges.",
      "reqIds": [
        "REQ-99"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-all-existing-dropdown-select-controls-for-client-name-task-category-task-sub-category-assigned-name-and-status-in-the-task-create-edit-dialog-taskformdialog-tsx-with-searchable-filterable-select-components-that-support-typing-to-filter-search-options-when-the-list-is-large",
      "title": "Replace all existing dropdown Select controls for Client Name, Task Category, Task Sub Category, Assigned Name, and Status in the Task create/edit dialog (TaskFormDialog.tsx) with searchable/filterable Select components that support typing to filter/search options when the list is large.",
      "reqIds": [
        "REQ-100"
      ],
      "version": 1
    },
    {
      "id": "feature-add-searchable-select-controls-in-the-tasks-page-filter-controls-taskspage-tsx-for-filtering-by-client-name-task-category-sub-category-assigned-name-and-status-so-users-can-efficiently-find-and-select-filter-values-from-large-option-lists",
      "title": "Add searchable Select controls in the Tasks page filter controls (TasksPage.tsx) for filtering by Client Name, Task Category, Sub Category, Assigned Name, and Status so users can efficiently find and select filter values from large option lists.",
      "reqIds": [
        "REQ-101"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-client-name-selector-in-the-clientdetailpage-task-list-with-a-searchable-select-component-so-users-can-efficiently-find-and-select-clients-when-the-client-list-is-large",
      "title": "Replace the Client Name selector in the ClientDetailPage task list with a searchable Select component so users can efficiently find and select clients when the client list is large.",
      "reqIds": [
        "REQ-102"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-searchable-select-implementations-use-shadcn-radix-ui-components-with-combobox-pattern-or-command-component-for-search-functionality-maintaining-consistency-with-the-existing-ui-component-library-and-ensuring-accessibility",
      "title": "Ensure all searchable Select implementations use Shadcn/Radix UI components with Combobox pattern or Command component for search functionality, maintaining consistency with the existing UI component library and ensuring accessibility.",
      "reqIds": [
        "REQ-103"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create a stylish Task/Client Management app tailored for a tax consulting firm.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Implement backend data models and persistence for Clients and Tasks, scoped per signed-in principal, supporting full CRUD operations.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Update Task data model/UI to include fields: Client Name (required), Task Category (required), Sub Category (required), and optional fields Status, Comment, Assigned Name, Due Date, Assignment Date, Completion Date, Bill, Advance Received, Outstanding Amount, Payment Status.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add bulk upload for Tasks using a downloadable/uploadable template (e.g., CSV/XLSX) to create tasks in batch.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add bulk selection in task list to edit or delete multiple tasks at once.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Update the backend Task data model and APIs to support the Task fields specified by the user: required fields Client Name, Task Category, Sub Category; optional fields Status, Comment, Assigned Name, Due Date, Assignment Date, Completion Date, Bill, Advance Received, Outstanding Amount, Payment Status. Ensure Tasks remain scoped per signed-in principal and maintain existing access control behavior (trap when unauthenticated).",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add backend support for bulk task operations: (1) bulk create tasks for an authenticated user from a list of task inputs, and (2) bulk delete tasks by a list of task IDs, and (3) bulk update multiple tasks by IDs with a partial 'patch' payload where omitted fields are not changed.",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Update Clients UI/data model to include fields: Client Name (required), GSTIN (optional), PAN (optional), Notes (optional).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Add bulk upload and bulk selection (with bulk actions) for Clients.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Update the backend Client data model and CRUD APIs to use the following fields: Client Name (required), GSTIN (optional), PAN (optional), Notes (optional), replacing the current contactInfo/projects-based client encoding.",
      "reqIds": [
        "REQ-17"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add backend support for bulk Client operations required by the UI: (1) bulk create clients for the authenticated user from a list of client inputs, and (2) bulk delete clients by a list of client IDs.",
      "reqIds": [
        "REQ-18"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add a conditional Motoko state migration to preserve existing client records by mapping legacy stored client data into the new Client fields (at minimum: map legacy client.name -> new name; set gstin/pan to null; map any legacy notes (currently encoded in contactInfo) into new notes when present).",
      "reqIds": [
        "REQ-19"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Add an Assignees management feature: allow creating/editing assignees where each assignee includes a Team Name and a Captain.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Support bulk addition (bulk upload/creation) of Assignees (teams) including Team Name and Captain fields.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add backend support for Assignees (teams) scoped per authenticated caller, where each assignee record contains Team Name and Captain fields, and provide CRUD query/update APIs consistent with existing Clients/Tasks access control behavior (trap when unauthenticated).",
      "reqIds": [
        "REQ-24"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Add backend bulk addition APIs for Assignees to support creating many assignees in a single request, aligned with existing bulk APIs patterns (e.g., bulkCreateClients/bulkCreateTasks).",
      "reqIds": [
        "REQ-25"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Enhance Dashboard: show total revenue aggregated by Task Category and provide status-wise task breakdown; enable click-through on dashboard widgets to drill down and list the corresponding tasks.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Update Task Status to use the user-provided status components: Pending, Docs Pending, In Progress, Checking, Payment Pending, Completed, Hold (and reflect these consistently across task create/edit, list, and dashboard breakdown).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Update the Tasks bulk upload (bulk addition) CSV template to include all task components/fields supported by the current Task model.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Remove the Client and Assignee dropdown selectors from the single Add Task flow; make Client Name and Assigned Name optional free-text inputs instead of list-based selection.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Remove date columns from the Tasks bulk addition (CSV) template (e.g., Due Date, Assignment Date, Completion Date).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Add sorting options in the Tasks view (e.g., sort by due date, status, category, client, amount).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Add an export-to-Excel option for Tasks (download tasks list as .xlsx).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Extend Tasks list sorting options to include Client-wise and Assignee-wise sorting (in addition to other sort fields).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Refactor frontend/src/hooks/useActor.ts so actor creation never reads the admin token from the URL (and never calls any helper that mutates window.history during startup). Remove the getSecretParameter('caffeineAdminToken') call and instead read the token only from sessionStorage.",
      "reqIds": [
        "REQ-64"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Update actor initialization so _initializeAccessControlWithSecret is invoked only when a non-empty caffeineAdminToken exists in sessionStorage; do not call it with an empty string token.",
      "reqIds": [
        "REQ-65"
      ],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Enhance Dashboard to include Sub Category breakdowns: (A) Revenue by Sub Category, (B) Tasks count by Sub Category, and (C) a combined Category + Sub Category grouped table.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Add inline editing of Task Comment directly from the Tasks list view (task table) without opening the Edit Task dialog.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Stop mutating or reading the browser URL for caffeineAdminToken during initial actor creation so the app cannot hang on the startup \"Loading...\" screen.",
      "reqIds": [
        "REQ-70"
      ],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Stop reading or mutating the browser URL for `caffeineAdminToken` during actor creation so the app can render routes reliably (no startup freeze/blank screen). Update `frontend/src/hooks/useActor.ts` to remove the call to `getSecretParameter('caffeineAdminToken')` and instead read the token only from `sessionStorage` (via `getSessionParameter('caffeineAdminToken')` from `frontend/src/utils/urlParams.ts`).",
      "reqIds": [
        "REQ-74"
      ],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Update actor initialization so `_initializeAccessControlWithSecret` is called only when a non-empty `caffeineAdminToken` exists in `sessionStorage`; do not call `_initializeAccessControlWithSecret` with an empty string token.",
      "reqIds": [
        "REQ-75"
      ],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Replace current logo with user-provided logo (referenced as 'this logo').",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Improve data update responsiveness (currently slow when clicking update button).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Add a todo list feature to the application.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Display the captain name in the task result view after the assignee name.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-41",
      "summary": "Extend backend Task queries to include resolved captain name for each task by looking up the task's assignedName against existing Assignees records, and return the captain name as part of the Task response payload so the frontend can display it without additional queries.",
      "reqIds": [
        "REQ-84"
      ],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Auto-populate Assignment Date when a task is assigned to an assignee (when Assigned Name is set).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-43",
      "summary": "Auto-populate Completion Date when a task's status is changed to 'Completed'.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-44",
      "summary": "Update the backend Task update logic so that when a task's assignedName field transitions from null/empty to a non-empty value, the assignmentDate field is automatically set to the current timestamp (Int representing nanoseconds since epoch) if assignmentDate is not already set.",
      "reqIds": [
        "REQ-85"
      ],
      "status": "pending"
    },
    {
      "id": "AR-45",
      "summary": "Update the backend Task update logic so that when a task's status field is set to 'Completed', the completionDate field is automatically set to the current timestamp (Int representing nanoseconds since epoch) if completionDate is not already set.",
      "reqIds": [
        "REQ-86"
      ],
      "status": "pending"
    },
    {
      "id": "AR-46",
      "summary": "Update the frontend Task mutation hooks (useUpdateTask in frontend/src/hooks/tasks.ts) and all task update UI flows (TaskFormDialog, TaskQuickStatus, InlineCommentEditor, bulk edit) to ensure they send all existing task fields when updating a task, so the backend auto-population logic for assignmentDate and completionDate can reliably detect state transitions.",
      "reqIds": [
        "REQ-87"
      ],
      "status": "pending"
    },
    {
      "id": "AR-47",
      "summary": "Enable all task fields to be editable in the bulk edit flow (currently bulk edit may have limited field coverage).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-49",
      "summary": "Extend the backend bulkUpdateTasks API (if not already present) or update the existing bulk update logic in backend/main.mo to accept partial updates for all Task fields (clientName, taskCategory, subCategory, status, comment, assignedName, dueDate, assignmentDate, completionDate, bill, advanceReceived, outstandingAmount, paymentStatus). The API must apply only the fields provided in the request payload, leaving omitted fields unchanged in the stored task records.",
      "reqIds": [
        "REQ-89"
      ],
      "status": "pending"
    },
    {
      "id": "AR-53",
      "summary": "Review and optimize the backend bulkUpdateTasks implementation in backend/main.mo to ensure it processes updates efficiently, minimizing computational overhead and response time when updating multiple tasks simultaneously.",
      "reqIds": [
        "REQ-95"
      ],
      "status": "pending"
    },
    {
      "id": "AR-54",
      "summary": "Fix the backend Task update logic in backend/main.mo so that when a task's status is changed to 'Completed', the completionDate field is reliably set to the current timestamp (Time.now()) if it is not already set, ensuring the auto-population works correctly and produces valid dates.",
      "reqIds": [
        "REQ-97"
      ],
      "status": "pending"
    },
    {
      "id": "AR-55",
      "summary": "Add a search or filter option to select items from dropdowns/lists when they are huge (e.g., Task sub category, Client Name, etc.).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Stylish Task + Client Management app for a Tax Consulting firm",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}